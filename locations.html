<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Locations</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="locations.css">
  <link rel="stylesheet" href="style.css">
  <style>
    body { margin: 0; padding: 0; }
  </style>
</head>

<body>
  <nav style="z-index: 2;">
    <p class="company"><a href="https://kprou.github.io/FItnessCS20/"><STRONG> S.M.E.K. Fitness Group </STRONG></a></p>
    <p class="slogan">Strength, Movement, Exercise, and Kinesiology</p>
      <ul>
        <li><a href="athletes.html"> College Athletes </a></li>
        <li><a href="subscriptions.html"> Sign Up </a></li>
        <li><a href="locations.html"> Locations </a></li>
        <li><a href="products.html"> Products </a></li>
        <li><a href="nutrition.html"> Nutrition </a></li>
        <li><a href="services.html"> Services </a></li>
        <li><a href="https://kprou.github.io/FItnessCS20/"> Home </a></li>
    </ul>
  </nav>
  
  <h1 id="header">Locate your closest instructor and book a consultation in the Service page!</h1>
  <h2 id="subheader">Make sure to turn on your location for the map to work. Click on the blue pins on the map to find an instructor.</h2>
  <button id="myButton">Hide Nav bar and footer</button>
  <div id="map"></div>
  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZXpoYW8wNSIsImEiOiJjbGYzM3k2OHMwb2ptM3FycWxieXpzMHM3In0.mHHvvWWWyHP91rYmwpTPQg';
    const map = new mapboxgl.Map({
      container: 'map', // container ID
      // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
      style: 'mapbox://styles/mapbox/streets-v12',
      center: [-74.5, 40], // starting position [lng, lat]
      zoom: 14 // starting zoom
    });

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        map.flyTo({
          center: [position.coords.longitude, position.coords.latitude]
        });

        new mapboxgl.Marker({color: "#000000"})
          .setLngLat([position.coords.longitude, position.coords.latitude])
          .setPopup(
            new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3 class="locationWho">Your Location</h3>`
            )
          )
          .addTo(map);
      }, function() {
        alert('Unable to get your location');
      });
    } else {
      alert('Geolocation is not supported by your browser');
    }

    var marker2 = new mapboxgl.Marker()
      .setLngLat([-71.121943, 42.404342])
      .setPopup(
            new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3 class="locationWho">Instructor Kevin's location</h3>
              <h5 class="locationWhere">Haskell Hall 310</h5>`
            )
          )
      .addTo(map);

    var marker3 = new mapboxgl.Marker()
      .setLngLat([-71.11676, 42.40274])
      .setPopup(
            new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3 class="locationWho">Instructor Silas's location</h3>
              <h5 class="locationWhere">165 College Ave, Somerville</h5>`
            )
          )
      .addTo(map);

    var marker4 = new mapboxgl.Marker()
      .setLngLat([-71.115464, 42.409031])
      .setPopup(
            new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3 class="locationWho">Instructor Maddy's location</h3>
              <h5 class="locationWhere">Steve Tisch Sports and Fitness Center</h5>`
            )
          )
      .addTo(map);

    var marker5 = new mapboxgl.Marker()
      .setLngLat([-71.1165466, 42.4079933])
      .setPopup(
            new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3 class="locationWho">Instructor Eric's location</h3>
              <h5 class="locationWhere">Joyce Cummings Center</h5>`
            )
          )
      .addTo(map);
      
    $(document).ready(function() {
      $("#myButton").click(function() {
        $("p").animate( {
          left: "+=50",
          height: "toggle"
        }, 2000);
      });
    });
    
  </script>
  
  <footer>
    <div class="stripe">&nbsp</div>
    <br>
    <p class="copyright">S.M.E.K. Fitness &copy;</p>
    <br>
    <div>An upper class athletic facility located on the campus of Tufts University</div>
    <div>Medford/Somerville, MA</div>
    <br>
    <p>Founded by Silas Reed, Madelyn Silveira, Eric Zhao, and Kevin Prou</p>
    <br>
  </footer>
</body>
</html>
